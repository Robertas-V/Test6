extends layout
include mixins/mixins_index

block content
    section.main
        .clearfix
        
            +login_form

            .mdl-spinner.mdl-spinner--single-color.mdl-js-spinner.is-active(ng-show='loading')
                
            #blur.ng-hide(ng-show="editing && !loading || showLogInForm")
            
            h2.hstyle Welcome!
            .text-box
                p Here you will find what parts are the best for your new race drone build.
                p Our goal is to help people find components that best match their criteria.
            
            h3.hstyle Win prizes every month!
            .text-box
                p You can win the top drone parts by simply contributing to our website.
                
            
            h2.hstyle Top 3 FC    
            table.mdl-data-table.mdl-js-data-table.mdl-shadow--2dp(ng-controller="DronePartTableController", ng-init="get_dronePartsByCategory('FC')")
                thead
                    tr
                        th.mdl-data-table__cell--non-numeric ID
                        th.mdl-data-table__cell--non-numeric !{t('index.table.name')}
                        th.mdl-data-table__cell--non-numeric !{t('index.table.description')}
                        th !{t('Category')}
                        th !{t('index.table.date')}

                tbody(ng-repeat="f in dronePart_list")   
                    tr(ng-click="dronePartClick(f._id)")
                        td(class="mdl-data-table__cell--non-numeric", id="id") {{f._id}}
                        td(class="mdl-data-table__cell--non-numeric") {{f.name}}
                        td(class="mdl-data-table__cell--non-numeric") {{f.description}}
                        td(class="mdl-data-table__cell--non-numeric") {{f.category}}
                        td {{f.dateCreated | date:"yyyy-MM-dd 'at' hh:mm"}}

            
            h2.hstyle Top 3 ESC            
            table.mdl-data-table.mdl-js-data-table.mdl-shadow--2dp(ng-controller="DronePartTableController", ng-init="get_dronePartsByCategory('ESC')")
                thead
                    tr
                        th.mdl-data-table__cell--non-numeric ID
                        th.mdl-data-table__cell--non-numeric !{t('index.table.name')}
                        th.mdl-data-table__cell--non-numeric !{t('index.table.description')}
                        th !{t('index.table.price')}
                        th !{t('index.table.date')}
                tbody
                tbody(ng-repeat="f in fruit_list")   
                    tr(ng-click="fruitClick(f._id)")
                        td(class="mdl-data-table__cell--non-numeric", id="id") {{f._id}}
                        td(class="mdl-data-table__cell--non-numeric") {{f.name}}
                        td(class="mdl-data-table__cell--non-numeric") {{f.description}}
                        td {{f.price/100 | currency}}
                        td {{f.dateCreated | date:"dd/MM/yyyy 'at' h:mma"}}
            
            h2.hstyle Top 3 CAM            
            table.mdl-data-table.mdl-js-data-table.mdl-shadow--2dp
                thead
                    tr
                        th.mdl-data-table__cell--non-numeric ID
                        th.mdl-data-table__cell--non-numeric !{t('index.table.name')}
                        th.mdl-data-table__cell--non-numeric !{t('index.table.description')}
                        th !{t('index.table.price')}
                        th !{t('index.table.date')}
                tbody
                tbody(ng-repeat="f in fruit_list")   
                    tr(ng-click="fruitClick(f._id)")
                        td(class="mdl-data-table__cell--non-numeric", id="id") {{f._id}}
                        td(class="mdl-data-table__cell--non-numeric") {{f.name}}
                        td(class="mdl-data-table__cell--non-numeric") {{f.description}}
                        td {{f.price/100 | currency}}
                        td {{f.dateCreated | date:"dd/MM/yyyy 'at' h:mma"}}
            
            h2.hstyle Top 3 VTX
            table.mdl-data-table.mdl-js-data-table.mdl-shadow--2dp
                thead
                    tr
                        th.mdl-data-table__cell--non-numeric ID
                        th.mdl-data-table__cell--non-numeric !{t('index.table.name')}
                        th.mdl-data-table__cell--non-numeric !{t('index.table.description')}
                        th !{t('index.table.price')}
                        th !{t('index.table.date')}
                tbody
                tbody(ng-repeat="f in fruit_list")   
                    tr(ng-click="fruitClick(f._id)")
                        td(class="mdl-data-table__cell--non-numeric", id="id") {{f._id}}
                        td(class="mdl-data-table__cell--non-numeric") {{f.name}}
                        td(class="mdl-data-table__cell--non-numeric") {{f.description}}
                        td {{f.price/100 | currency}}
                        td {{f.dateCreated | date:"dd/MM/yyyy 'at' h:mma"}}
